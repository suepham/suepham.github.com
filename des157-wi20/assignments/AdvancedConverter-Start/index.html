<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Distance Converter</title>

	<!--/ /-------- Normalize CSS --------/ /-->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" rel="stylesheet">
	
	<!--/ /-------- Google Fonts --------/ /-->
	<link href="https://fonts.googleapis.com/css?family=Oswald|PT+Sans&display=swap" rel="stylesheet">
	
	<!--/ /-------- My Styles --------/ /-->
	<link href="styles.css" rel="stylesheet">

</head>

<body>

	<h1>Miles to Kilometers Converter</h1>
    
    <div class="container top">
    	<p>Type in a number of miles and click the button to convert the distance to kilometers.</p>
        
        <form method="post" action="somephpfile.php" id="convert">
        
        	<input type="text" name="distance" id="distance" placeholder="distance">
            <input type="submit" name="convertdist" value="Convert Distance">
        
        </form>
    </div>
    <div class="container bottom" id="answer">
    	<h2 class="invisible">Answer goes here</h2>
    </div>
    
	<p id="directions">Press the "K" key to switch to kilometer converstion, press the "M" key to switch to mile conversion</p>
	

	<script>
		var changeTitle = document.querySelector("h1");
		var changeWord = document.querySelectorAll("p")[0];
		var myForm = document.querySelector("form");
		var answer = document.querySelector("h2");

		document.addEventListener("keydown", function(event) {
			var whichKey = String.fromCharCode(event.which);
			if ((whichKey == "K") || (whichKey == "k")) {
				changeTitle.innerHTML = `Kilometers to Miles Converter`;
				changeWord.innerHTML = `Type in a number of kilometers and click the button to convert the distance to miles.`;
				myForm.addEventListener("submit", function(e){
					e.preventDefault();
					var formData = parseFloat(document.querySelector("input").value);

					if (formData) {
						if (formData < 0) {
							answer.innerHTML = `Please enter a positive number`;
						}
						else if(formData == 1) {
							var miles = Math.round((formData * 0.62137)*1000)/1000;
							answer.innerHTML = `${formData} kilometer converts to ${miles} miles`;
						}
						else {
							var miles = Math.round((formData * 0.62137)*1000)/1000;
							answer.innerHTML = `${formData} kilometers converts to ${miles} miles`;
						}
					}
					else {
						answer.innerHTML = `Please enter a number`;
					}
					answer.classList.remove("invisible");
				});
			}
			else if ((whichKey == "M") || (whichKey == "m")) {
				changeTitle.innerHTML = `Miles to Kilometers Converter`;
				changeWord.innerHTML = `Type in a number of miles and click the button to convert the distance to kilometers.`;
				myForm.addEventListener("submit", function(e){
					e.preventDefault();
					var formData = parseFloat(document.querySelector("input").value);

					if (formData) {
						if (formData < 0) {
							answer.innerHTML = `Please enter a positive number`;
						}
						else if(formData == 1) {
							var kilometers = Math.round((formData * 1.609344)*1000)/1000;
							answer.innerHTML = `${formData} mile converts to ${kilometers} kilometers`;
						}
						else {
							var kilometers = Math.round((formData * 1.609344)*1000)/1000;
							answer.innerHTML = `${formData} miles converts to ${kilometers} kilometers`;
						}
					}
					else {
						answer.innerHTML = `Please enter a number`;
					}
					answer.classList.remove("invisible");
				});
			}
			else {
				myForm.addEventListener("submit", function(e){
					e.preventDefault();
					var formData = parseFloat(document.querySelector("input").value);

					if (formData) {
						if (formData < 0) {
							answer.innerHTML = `Please enter a positive number`;
						}
						else if(formData == 1) {
							var kilometers = Math.round((formData * 1.609344)*1000)/1000;
							answer.innerHTML = `${formData} mile converts to ${kilometers} kilometers`;
						}
						else {
							var kilometers = Math.round((formData * 1.609344)*1000)/1000;
							answer.innerHTML = `${formData} miles converts to ${kilometers} kilometers`;
						}
					}
					else {
						answer.innerHTML = `Please enter a number`;
					}
					answer.classList.remove("invisible");
				});
			}
		});



	</script>

</body>
</html>
